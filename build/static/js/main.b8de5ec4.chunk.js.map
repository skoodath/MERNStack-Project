{"version":3,"sources":["components/phonebook.js","components/newcontact.js","components/search.js","services/person.js","components/notifications.js","components/errornotice.js","App.js","index.js"],"names":["Phonebook","person","removeContact","name","number","className","onClick","Contacts","onChangeName","onChangePhone","onSubmit","nameVal","phoneVal","type","onChange","value","placeholder","required","maxLength","Search","onSearchChange","searchVal","baseURL","axios","get","newPerson","post","id","delete","updated","put","Notice","message","Error","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","search","setSearch","setMessage","error","setError","useEffect","contactService","then","response","data","personToShow","filter","toLowerCase","includes","event","target","preventDefault","findcontact","find","undefined","concat","catch","setTimeout","alert","window","confirm","console","log","map","length","key","remaining","remove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8de5ec4.chunk.js","sourcesContent":["import React from 'react';\n\nconst Phonebook = ({person,removeContact}) => {\n  return (<li>\n    {person.name} | {person.number}\n    <button className='rmbtn' onClick={(removeContact)}>\n      X\n    </button>\n  </li>\n  )\n}\nexport default Phonebook;\n","import React from 'react';\n\nconst Contacts = ({onChangeName, onChangePhone, onSubmit, nameVal, phoneVal}) => {\n  return (\n\n  <form onSubmit = {onSubmit} >\n    <>\n      <div>Name: <input type=\"text\" onChange={onChangeName} value = {nameVal} placeholder=\"Enter a Name\" required/></div>\n      <div>Phone: <input type='tel' maxLength='12' onChange={onChangePhone} value = {phoneVal} placeholder=\"Enter phone no.\" required /></div>\n      <div><button className='addbtn' type=\"submit\">Add</button></div>\n    </>\n  </form>\n)\n}\nexport default Contacts;\n","import React from 'react';\n\nconst Search = ({onSearchChange, searchVal}) => (\n  <div>\n    Search Contact: <input type = \"text\" onChange = {onSearchChange} value={searchVal} placeholder=\"search a contact\" />\n  </div>\n)\n\nexport default Search;\n","import axios from 'axios'\n\nconst baseURL = `/api/persons`;\n\nconst getContact = () => {\n  return axios.get(baseURL);\n}\n\nconst addNew = newPerson => {\n  return axios.post(baseURL, newPerson);\n}\n\nconst removeContact = id => {\n  return axios.delete(`${baseURL}/${id}`)\n}\n\nconst updateContact = (id, updated) => {\n  return axios.put(`${baseURL}/${id}`, updated)\n}\n\nexport default {\n  getContact,\n  addNew,\n  removeContact,\n  updateContact\n}\n","import React from 'react';\n\nconst Notice = ({message}) => {\n  if(message === '') {\n    return '';\n  }\nreturn (\n      <div className='successNotice'>{message}</div>\n  )\n}\n  export default Notice;\n","import React from 'react';\n\nconst Error = ({message}) => {\n  if(message === '') {\n    return '';\n  }\nreturn (\n      <div className='errorNotice'>{message}</div>\n  )\n}\n  export default Error;\n","import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport Phonebook from './components/phonebook';\nimport Contacts from './components/newcontact';\nimport Search from './components/search';\nimport contactService from './services/person';\nimport Notice from './components/notifications';\nimport Error from './components/errornotice';\n\nconst App = () => {\nconst [ persons, setPersons] = useState([]);\nconst [ newName, setNewName ] = useState('');\nconst [ newPhone, setNewPhone ] = useState('');\nconst [ search, setSearch ] = useState('');\nconst [ message, setMessage] = useState('');\nconst [ error, setError] = useState('');\n\nuseEffect(() => {\n  contactService\n  .getContact()\n  .then(response => {\n      setPersons(response.data);\n    })\n},[])\n\nconst personToShow = persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()));\n\n  const remove = (id) => {\n    if(!window.confirm(`Are you sure you want to delete this record`)){\n      return;\n    } else {\n        const person = persons.filter(remaining=>remaining.id !== id);\n        contactService\n        .removeContact(id)\n        .then(response  => {\n            setPersons(person);\n            setNewName('');\n            setNewPhone('');\n            setMessage('Record deleted successfully');\n            })\n            setTimeout(()=>{\n              setMessage('')\n            }, 3000)\n            }\n      }\n\n\nconst handleName = (event) => {\n  setNewName(event.target.value);\n}\nconst handlePhone = (event) => {\n  setNewPhone(event.target.value);\n}\nconst formSubmit = (event) => {\n  event.preventDefault();\n\n  const newPerson = {\n    name: newName,\n    number: newPhone,\n  };\n\n  const findcontact = persons.find(person => person.name === newPerson.name);\n \n  if(findcontact === undefined){\n    contactService\n      .addNew(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response.data));\n        setNewName('');\n        setNewPhone('');\n        setMessage('Contact successfully Added');\n      })\n      .catch(error =>{\n        setError(`${error.response.data.error}`);\n      })\n    setTimeout(() => {\n      setMessage('');\n    }, 3000);\n    setTimeout(() => {\n      setError('');\n    }, 3000);\n  } \n  else if (findcontact.name === newPerson.name && findcontact.number === newPerson.number) {\n    alert(`${newPerson.name} and ${newPerson.number} combination already exists. Please enter a new contact!`);\n  } \n  else if (findcontact.name === newPerson.name && findcontact.number !== newPerson.number) {\n      if(window.confirm(`${newPerson.name} is already added to the phonebook. Should the number be replaced?`)){\n        const updated = {...findcontact, number: newPerson.number };\n        console.log('New item:', updated);\n        contactService\n        .updateContact(updated.id, updated)\n        .then(response => {\n            setPersons(persons.map(person => person.name !== newName ? person : response.data))\n            setNewName('');\n            setNewPhone('');\n            setMessage('Contact successfully Updated');\n          console.log(response.data);\n          })\n         .catch(error => {\n            setError(`${updated.name} was already deleted`);\n            setPersons(persons.filter(person => person.id !== updated.id));\n          })\n          setTimeout(()=>{\n            setMessage('')\n          }, 3000)\n          setTimeout(()=>{\n            setError('')\n          }, 3000)\n          \n        }\n  } \n}\nconst onSearch = (event) => {\n  setSearch(event.target.value);\n}\n\nconst phonebook = () => {\n  if(personToShow.length === 0){\n    return (\n        <p>There are no contacts!</p>\n        )\n    }\n    return (\n      personToShow.map(person=>\n        <Phonebook\n        key={person.id}\n        person={person}\n        removeContact={()=>remove(person.id)}\n        />\n      )\n    )\n}\nreturn (\n <div>\n   <h2>Phonebook</h2>\n   <Notice message = {message} />\n   <Error message = {error} />\n   <Search onSearchChange = {onSearch} searchVal ={search} />\n   <h3>Add New Contact</h3>\n   <Contacts onChangeName={handleName} onChangePhone = {handlePhone} onSubmit = {formSubmit} nameVal = {newName} phoneVal = {newPhone} />\n\n   <h3>Numbers</h3>\n   <ol>{phonebook()}</ol>\n\n </div>\n)\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}